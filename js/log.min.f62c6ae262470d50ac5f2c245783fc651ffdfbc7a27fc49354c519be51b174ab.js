document.addEventListener("alpine:init",()=>{Alpine.data("log",()=>({allProjects:[],filteredProjects:[],filteredTechnologies:[],filteredTypes:[],filteredLinks:[],filteredStatus:[],init(){document.querySelectorAll("#projects > li").forEach(e=>{this.allProjects.push({id:e.dataset.id,techs:JSON.parse(e.dataset.techs),type:e.dataset.type,links:["hasdoc","hasaccess"].filter(t=>e.dataset[t]==="true"),wip:e.dataset.wip==="true"}),this.filteredProjects=this.allProjects.map(e=>e.id)})},filterProjects(){this.filteredProjects=this.allProjects.filter(e=>{const t=this.filteredTechnologies.length===0||e.techs.some(e=>this.filteredTechnologies.includes(e)),n=this.filteredTypes.length===0||this.filteredTypes.includes(e.type),s=this.filteredLinks.length===0||e.links.some(e=>this.filteredLinks.includes(e)),o=this.filteredStatus.length===0||this.filteredStatus.includes(e.wip?"wip":"done");return t&&n&&s&o}).map(e=>e.id)},handleChangeTechnologies(e){e.target.checked?this.filteredTechnologies.push(e.target.name):this.filteredTechnologies=this.filteredTechnologies.filter(t=>t!==e.target.name),this.filterProjects()},handleChangeTypes(e){e.target.checked?this.filteredTypes.push(e.target.name):this.filteredTypes=this.filteredTypes.filter(t=>t!==e.target.name),this.filterProjects()},handleChangeLinks(e){e.target.checked?this.filteredLinks.push(e.target.name):this.filteredLinks=this.filteredLinks.filter(t=>t!==e.target.name),this.filterProjects()},handleChangeStatus(e){e.target.checked?this.filteredStatus.push(e.target.name):this.filteredStatus=this.filteredStatus.filter(t=>t!==e.target.name),this.filterProjects()}}))})