document.addEventListener('alpine:init',()=>{Alpine.data('log',()=>({allProjects:[],filteredProjects:[],filteredTechnologies:[],filteredTypes:[],filteredLinks:[],filteredStatus:[],init(){document.querySelectorAll('#projects > li').forEach(a=>{this.allProjects.push({id:a.dataset.id,techs:JSON.parse(a.dataset.techs),type:a.dataset.type,links:['hasdoc','hasaccess'].filter(b=>a.dataset[b]==='true')),wip:a.dataset.wip==='true'}),this.filteredProjects=this.allProjects.map(a=>a.id)})},filterProjects(){this.filteredProjects=this.allProjects.filter(a=>{const b=this.filteredTechnologies.length===0||a.techs.some(a=>this.filteredTechnologies.includes(a)),c=this.filteredTypes.length===0||this.filteredTypes.includes(a.type),d=this.filteredLinks.length===0||a.links.some(a=>this.filteredLinks.includes(a)),e=this.filteredStatus.length===0||this.filteredStatus.includes(a.wip?'wip':'done');return b&&c&&d&e}).map(a=>a.id)},handleChangeTechnologies(a){a.target.checked?this.filteredTechnologies.push(a.target.name):this.filteredTechnologies=this.filteredTechnologies.filter(b=>b!==a.target.name),this.filterProjects()},handleChangeTypes(a){a.target.checked?this.filteredTypes.push(a.target.name):this.filteredTypes=this.filteredTypes.filter(b=>b!==a.target.name),this.filterProjects()},handleChangeLinks(a){a.target.checked?this.filteredLinks.push(a.target.name):this.filteredLinks=this.filteredLinks.filter(b=>b!==a.target.name),this.filterProjects()},handleChangeStatus(a){a.target.checked?this.filteredStatus.push(a.target.name):this.filteredStatus=this.filteredStatus.filter(b=>b!==a.target.name),this.filterProjects()}})})